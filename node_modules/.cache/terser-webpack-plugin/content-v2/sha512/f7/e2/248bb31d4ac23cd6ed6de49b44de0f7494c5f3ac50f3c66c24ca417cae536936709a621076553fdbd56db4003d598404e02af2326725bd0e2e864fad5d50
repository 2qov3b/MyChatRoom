{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{132:function(e,t){},134:function(e,t){},149:function(e,t,a){},150:function(e,t,a){\"use strict\";a.r(t);var n=a(0),c=a(9),i=a.n(c),r=a(22),l=a(190),s=a(185),o=a(180),d=a(183),j=a(151),u=a(19),b=a(85),m=a(55),p=a.n(m),x=a(4),O=Object(n.createContext)(),f=Object(b.io)(\"https://modern-video-calling-app.herokuapp.com/\"),h=function(e){var t=e.children,a=Object(n.useState)(!1),c=Object(u.a)(a,2),i=c[0],r=c[1],l=Object(n.useState)(!1),s=Object(u.a)(l,2),o=s[0],d=s[1],j=Object(n.useState)(),b=Object(u.a)(j,2),m=b[0],h=b[1],g=Object(n.useState)(\"\"),v=Object(u.a)(g,2),C=v[0],w=v[1],y=Object(n.useState)({}),N=Object(u.a)(y,2),k=N[0],I=N[1],S=Object(n.useState)(\"\"),A=Object(u.a)(S,2),D=A[0],E=A[1],B=Object(n.useRef)(),R=Object(n.useRef)(),U=Object(n.useRef)();Object(n.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){h(e),B.current.srcObject=e})),f.on(\"me\",(function(e){return E(e)})),f.on(\"callUser\",(function(e){var t=e.from,a=e.name,n=e.signal;I({isReceivingCall:!0,from:t,name:a,signal:n})}))}),[]);return Object(x.jsx)(O.Provider,{value:{call:k,callAccepted:i,myVideo:B,userVideo:R,stream:m,name:C,setName:w,callEnded:o,me:D,callUser:function(e){var t=new p.a({initiator:!0,trickle:!1,stream:m});t.on(\"signal\",(function(t){f.emit(\"callUser\",{userToCall:e,signalData:t,from:D,name:C})})),t.on(\"stream\",(function(e){R.current.srcObject=e})),f.on(\"callAccepted\",(function(e){r(!0),t.signal(e)})),U.current=t},leaveCall:function(){d(!0),U.current.destroy(),window.location.reload()},answerCall:function(){r(!0);var e=new p.a({initiator:!1,trickle:!1,stream:m});e.on(\"signal\",(function(e){f.emit(\"answerCall\",{signal:e,to:k.from})})),e.on(\"stream\",(function(e){R.current.srcObject=e})),e.signal(k.signal),U.current=e}},children:t})},g=Object(o.a)((function(e){return{video:Object(r.a)({width:\"550px\"},e.breakpoints.down(\"xs\"),{width:\"300px\"}),gridContainer:Object(r.a)({justifyContent:\"center\"},e.breakpoints.down(\"xs\"),{flexDirection:\"column\"}),paper:{padding:\"10px\",border:\"2px solid black\",margin:\"10px\"}}})),v=function(){var e=Object(n.useContext)(O),t=e.name,a=e.callAccepted,c=e.myVideo,i=e.userVideo,r=e.callEnded,l=e.stream,o=e.call,u=g();return Object(x.jsxs)(d.a,{container:!0,className:u.gridContainer,children:[l&&Object(x.jsx)(j.a,{className:u.paper,children:Object(x.jsxs)(d.a,{item:!0,xs:12,md:6,children:[Object(x.jsx)(s.a,{variant:\"h5\",gutterBottom:!0,children:t||\"NAME / \\u540d\\u524d\"}),Object(x.jsx)(\"video\",{playsInline:!0,muted:!0,ref:c,autoPlay:!0,className:u.video})]})}),a&&!r&&Object(x.jsx)(j.a,{className:u.paper,children:Object(x.jsxs)(d.a,{item:!0,xs:12,md:6,children:[Object(x.jsx)(s.a,{variant:\"h5\",gutterBottom:!0,children:o.name||\"Name\"}),Object(x.jsx)(\"video\",{playsInline:!0,ref:i,autoPlay:!0,className:u.video})]})})]})},C=a(192),w=function(){var e=Object(n.useContext)(O),t=e.answerCall,a=e.call,c=e.callAccepted;return Object(x.jsx)(x.Fragment,{children:a.isReceivingCall&&!c&&Object(x.jsxs)(\"div\",{style:{display:\"flex\",justifyContent:\"space-around\"},children:[Object(x.jsx)(\"audio\",{src:\"../audios/ringtone.mp3\",autoPlay:!0}),Object(x.jsxs)(\"h1\",{children:[a.name,\" is calling:\"]}),Object(x.jsx)(C.a,{variant:\"contained\",color:\"primary\",onClick:t,children:\"Answer\"})]})})},y=a(186),N=a(191),k=a(91),I=a(187),S=a(188),A=a(189),D=Object(o.a)((function(e){return{root:{display:\"flex\",flexDirection:\"column\"},gridContainer:Object(r.a)({width:\"100%\"},e.breakpoints.down(\"xs\"),{flexDirection:\"column\"}),container:Object(r.a)({width:\"600px\",margin:\"35px 0\",padding:0},e.breakpoints.down(\"xs\"),{width:\"80%\"}),margin:{marginTop:20},padding:{padding:20},paper:{padding:\"10px 20px\",border:\"2px solid black\"}}})),E=function(e){var t=e.children,a=Object(n.useContext)(O),c=a.me,i=a.callAccepted,r=a.name,l=a.setName,o=a.callEnded,b=a.leaveCall,m=a.callUser,p=Object(n.useState)(\"\"),f=Object(u.a)(p,2),h=f[0],g=f[1],v=D();return Object(x.jsx)(y.a,{className:v.container,children:Object(x.jsxs)(j.a,{elevation:10,className:v.paper,children:[Object(x.jsx)(\"form\",{className:v.root,noValidate:!0,autoComplete:\"off\",children:Object(x.jsxs)(d.a,{container:!0,className:v.gridContainer,children:[Object(x.jsxs)(d.a,{item:!0,xs:12,md:6,className:v.padding,children:[Object(x.jsx)(s.a,{gutterBottom:!0,variant:\"h6\",children:\"Hello my friend!\"}),Object(x.jsx)(N.a,{label:\"NAME / \\u540d\\u524d\",value:r,onChange:function(e){return l(e.target.value)},fullWidth:!0}),Object(x.jsx)(k.CopyToClipboard,{text:c,className:v.margin,children:Object(x.jsx)(C.a,{variant:\"contained\",color:\"primary\",fullWidth:!0,startIcon:Object(x.jsx)(I.a,{fontSize:\"large\"}),children:\"Copy Your ID\"})})]}),Object(x.jsxs)(d.a,{item:!0,xs:12,md:6,className:v.padding,children:[Object(x.jsx)(s.a,{gutterBottom:!0,variant:\"h6\",children:\"Let's chat!\"}),Object(x.jsx)(N.a,{label:\"ID TO CALL\",value:h,onChange:function(e){return g(e.target.value)},fullWidth:!0}),i&&!o?Object(x.jsx)(C.a,{variant:\"contained\",color:\"secondary\",startIcon:Object(x.jsx)(S.a,{fontSize:\"large\"}),fullWidth:!0,onClick:b,className:v.margin,children:\"Hang Up\"}):Object(x.jsx)(C.a,{variant:\"contained\",color:\"primary\",startIcon:Object(x.jsx)(A.a,{fontSize:\"large\"}),fullWidth:!0,onClick:function(){return m(h)},className:v.margin,children:\"Call\"})]})]})}),t]})})},B=Object(o.a)((function(e){return{appBar:Object(r.a)({borderRadius:15,margin:\"30px 100px\",display:\"flex\",flexDirection:\"row\",justifyContent:\"center\",alignItems:\"center\",width:\"600px\",border:\"2px solid black\"},e.breakpoints.down(\"xs\"),{width:\"90%\"}),image:{marginLeft:\"15px\"},wrapper:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",width:\"100%\"}}})),R=function(){var e=B();return Object(x.jsxs)(\"div\",{className:e.wrapper,children:[Object(x.jsx)(l.a,{className:e.appBar,position:\"static\",color:\"inherit\",children:Object(x.jsx)(s.a,{variant:\"h2\",align:\"center\",children:\"KEN's Chat Room\"})}),Object(x.jsx)(v,{}),Object(x.jsx)(E,{children:Object(x.jsx)(w,{})})]})};a(149);i.a.render(Object(x.jsx)(h,{children:Object(x.jsx)(R,{})}),document.getElementById(\"root\"))}},[[150,1,2]]]);","name":"static/js/main.4b89d7c4.chunk.js","map":{"version":3,"sources":["static/js/main.4b89d7c4.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_dom","react_dom_default","n","defineProperty","AppBar","Typography","makeStyles","Grid","Paper","slicedToArray","build","simple_peer","simple_peer_default","jsx_runtime","SocketContext","Object","socket","SocketContext_ContextProvider","_ref","children","_useState","_useState2","callAccepted","setCallAccepted","_useState3","_useState4","callEnded","setCallEnded","_useState5","_useState6","stream","setStream","_useState7","_useState8","name","setName","_useState9","_useState10","call","setCall","_useState11","_useState12","me","setMe","myVideo","userVideo","connectionRef","navigator","mediaDevices","getUserMedia","video","audio","then","currentStream","current","srcObject","on","id","_ref2","from","callerName","signal","isReceivingCall","Provider","value","callUser","peer","a","initiator","trickle","data","emit","userToCall","signalData","leaveCall","destroy","window","location","reload","answerCall","to","useStyles","theme","width","breakpoints","down","gridContainer","justifyContent","flexDirection","paper","padding","border","margin","components_VideoPlayer","_useContext","classes","container","className","item","xs","md","variant","gutterBottom","playsInline","muted","ref","autoPlay","Button","components_Notifications","style","display","src","color","onClick","Container","TextField","lib","Assignment","PhoneDisabled","Phone","Options_useStyles","root","marginTop","components_Options","idToCall","setIdToCall","elevation","noValidate","autoComplete","label","onChange","e","target","fullWidth","text","startIcon","fontSize","App_useStyles","appBar","borderRadius","alignItems","image","marginLeft","wrapper","src_App","position","align","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 132:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 134:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 149:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 150:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(9);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/AppBar/AppBar.js\nvar AppBar = __webpack_require__(190);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Typography/Typography.js\nvar Typography = __webpack_require__(185);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(180);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Grid/Grid.js\nvar Grid = __webpack_require__(183);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Paper/Paper.js\nvar Paper = __webpack_require__(151);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/socket.io-client/build/index.js\nvar build = __webpack_require__(85);\n\n// EXTERNAL MODULE: ./node_modules/simple-peer/index.js\nvar simple_peer = __webpack_require__(55);\nvar simple_peer_default = /*#__PURE__*/__webpack_require__.n(simple_peer);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/SocketContext.js\nvar SocketContext=/*#__PURE__*/Object(react[\"createContext\"])();//const socket = io('http://localhost:5000/');\nvar socket=Object(build[\"io\"])('https://modern-video-calling-app.herokuapp.com/');var SocketContext_ContextProvider=function ContextProvider(_ref){var children=_ref.children;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),callAccepted=_useState2[0],setCallAccepted=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),callEnded=_useState4[0],setCallEnded=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),stream=_useState6[0],setStream=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),name=_useState8[0],setName=_useState8[1];var _useState9=Object(react[\"useState\"])({}),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),call=_useState10[0],setCall=_useState10[1];var _useState11=Object(react[\"useState\"])(''),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),me=_useState12[0],setMe=_useState12[1];var myVideo=Object(react[\"useRef\"])();var userVideo=Object(react[\"useRef\"])();var connectionRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){navigator.mediaDevices.getUserMedia({video:true,audio:true}).then(function(currentStream){setStream(currentStream);myVideo.current.srcObject=currentStream;});socket.on('me',function(id){return setMe(id);});socket.on('callUser',function(_ref2){var from=_ref2.from,callerName=_ref2.name,signal=_ref2.signal;setCall({isReceivingCall:true,from:from,name:callerName,signal:signal});});},[]);var answerCall=function answerCall(){setCallAccepted(true);var peer=new simple_peer_default.a({initiator:false,trickle:false,stream:stream});peer.on('signal',function(data){socket.emit('answerCall',{signal:data,to:call.from});});peer.on('stream',function(currentStream){userVideo.current.srcObject=currentStream;});peer.signal(call.signal);connectionRef.current=peer;};var callUser=function callUser(id){var peer=new simple_peer_default.a({initiator:true,trickle:false,stream:stream});peer.on('signal',function(data){socket.emit('callUser',{userToCall:id,signalData:data,from:me,name:name});});peer.on('stream',function(currentStream){userVideo.current.srcObject=currentStream;});socket.on('callAccepted',function(signal){setCallAccepted(true);peer.signal(signal);});connectionRef.current=peer;};var leaveCall=function leaveCall(){setCallEnded(true);connectionRef.current.destroy();window.location.reload();};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SocketContext.Provider,{value:{call:call,callAccepted:callAccepted,myVideo:myVideo,userVideo:userVideo,stream:stream,name:name,setName:setName,callEnded:callEnded,me:me,callUser:callUser,leaveCall:leaveCall,answerCall:answerCall},children:children});};\n// CONCATENATED MODULE: ./src/components/VideoPlayer.jsx\nvar useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{video:Object(defineProperty[\"a\" /* default */])({width:'550px'},theme.breakpoints.down('xs'),{width:'300px'}),gridContainer:Object(defineProperty[\"a\" /* default */])({justifyContent:'center'},theme.breakpoints.down('xs'),{flexDirection:'column'}),paper:{padding:'10px',border:'2px solid black',margin:'10px'}};});var VideoPlayer_VideoPlayer=function VideoPlayer(){var _useContext=Object(react[\"useContext\"])(SocketContext),name=_useContext.name,callAccepted=_useContext.callAccepted,myVideo=_useContext.myVideo,userVideo=_useContext.userVideo,callEnded=_useContext.callEnded,stream=_useContext.stream,call=_useContext.call;var classes=useStyles();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,className:classes.gridContainer,children:[stream&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Paper[\"a\" /* default */],{className:classes.paper,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h5\",gutterBottom:true,children:name||'NAME / 名前'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"video\",{playsInline:true,muted:true,ref:myVideo,autoPlay:true,className:classes.video})]})}),callAccepted&&!callEnded&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Paper[\"a\" /* default */],{className:classes.paper,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h5\",gutterBottom:true,children:call.name||'Name'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"video\",{playsInline:true,ref:userVideo,autoPlay:true,className:classes.video})]})})]});};/* harmony default export */ var components_VideoPlayer = (VideoPlayer_VideoPlayer);\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js + 6 modules\nvar Button = __webpack_require__(192);\n\n// CONCATENATED MODULE: ./src/components/Notifications.jsx\nvar Notifications_Notifications=function Notifications(){var _useContext=Object(react[\"useContext\"])(SocketContext),answerCall=_useContext.answerCall,call=_useContext.call,callAccepted=_useContext.callAccepted;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:call.isReceivingCall&&!callAccepted&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',justifyContent:'space-around'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"audio\",{src:\"../audios/ringtone.mp3\",autoPlay:true}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[call.name,\" is calling:\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",onClick:answerCall,children:\"Answer\"})]})});};/* harmony default export */ var components_Notifications = (Notifications_Notifications);\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Container/Container.js\nvar Container = __webpack_require__(186);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/TextField/TextField.js + 42 modules\nvar TextField = __webpack_require__(191);\n\n// EXTERNAL MODULE: ./node_modules/react-copy-to-clipboard/lib/index.js\nvar lib = __webpack_require__(91);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/Assignment.js\nvar Assignment = __webpack_require__(187);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/PhoneDisabled.js\nvar PhoneDisabled = __webpack_require__(188);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/Phone.js\nvar Phone = __webpack_require__(189);\n\n// CONCATENATED MODULE: ./src/components/Options.jsx\nvar Options_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{root:{display:'flex',flexDirection:'column'},gridContainer:Object(defineProperty[\"a\" /* default */])({width:'100%'},theme.breakpoints.down('xs'),{flexDirection:'column'}),container:Object(defineProperty[\"a\" /* default */])({width:'600px',margin:'35px 0',padding:0},theme.breakpoints.down('xs'),{width:'80%'}),margin:{marginTop:20},padding:{padding:20},paper:{padding:'10px 20px',border:'2px solid black'}};});var Options_Options=function Options(_ref){var children=_ref.children;var _useContext=Object(react[\"useContext\"])(SocketContext),me=_useContext.me,callAccepted=_useContext.callAccepted,name=_useContext.name,setName=_useContext.setName,callEnded=_useContext.callEnded,leaveCall=_useContext.leaveCall,callUser=_useContext.callUser;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),idToCall=_useState2[0],setIdToCall=_useState2[1];var classes=Options_useStyles();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{className:classes.container,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Paper[\"a\" /* default */],{elevation:10,className:classes.paper,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{className:classes.root,noValidate:true,autoComplete:\"off\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,className:classes.gridContainer,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,className:classes.padding,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{gutterBottom:true,variant:\"h6\",children:\"Hello my friend!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{label:\"NAME / \\u540D\\u524D\",value:name,onChange:function onChange(e){return setName(e.target.value);},fullWidth:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(lib[\"CopyToClipboard\"],{text:me,className:classes.margin,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",fullWidth:true,startIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Assignment[\"a\" /* default */],{fontSize:\"large\"}),children:\"Copy Your ID\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,className:classes.padding,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{gutterBottom:true,variant:\"h6\",children:\"Let's chat!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{label:\"ID TO CALL\",value:idToCall,onChange:function onChange(e){return setIdToCall(e.target.value);},fullWidth:true}),callAccepted&&!callEnded?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"secondary\",startIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PhoneDisabled[\"a\" /* default */],{fontSize:\"large\"}),fullWidth:true,onClick:leaveCall,className:classes.margin,children:\"Hang Up\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",startIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Phone[\"a\" /* default */],{fontSize:\"large\"}),fullWidth:true,onClick:function onClick(){return callUser(idToCall);},className:classes.margin,children:\"Call\"})]})]})}),children]})});};/* harmony default export */ var components_Options = (Options_Options);\n// CONCATENATED MODULE: ./src/App.js\nvar App_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{appBar:Object(defineProperty[\"a\" /* default */])({borderRadius:15,margin:'30px 100px',display:'flex',flexDirection:'row',justifyContent:'center',alignItems:'center',width:'600px',border:'2px solid black'},theme.breakpoints.down('xs'),{width:'90%'}),image:{marginLeft:'15px'},wrapper:{display:'flex',flexDirection:'column',alignItems:'center',width:'100%'}};});var App_App=function App(){var classes=App_useStyles();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:classes.wrapper,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AppBar[\"a\" /* default */],{className:classes.appBar,position:\"static\",color:\"inherit\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h2\",align:\"center\",children:\"KEN's Chat Room\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_VideoPlayer,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Options,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Notifications,{})})]});};/* harmony default export */ var src_App = (App_App);\n// EXTERNAL MODULE: ./src/styles.css\nvar styles = __webpack_require__(149);\n\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SocketContext_ContextProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[150,1,2]]]);","inputSourceMap":{"version":3,"sources":["ignored /Users/kenshen/00_Lab/01_Work/MyChatRoom/node_modules/simple-peer/node_modules/readable-stream/lib util","ignored /Users/kenshen/00_Lab/01_Work/MyChatRoom/node_modules/simple-peer/node_modules/readable-stream/lib/internal/streams util","/Users/kenshen/00_Lab/01_Work/MyChatRoom/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/kenshen/00_Lab/01_Work/MyChatRoom/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/kenshen/00_Lab/01_Work/MyChatRoom/node_modules/postcss-loader/src/index.js??postcss!/Users/kenshen/00_Lab/01_Work/MyChatRoom/src/styles.css","/Users/kenshen/00_Lab/01_Work/MyChatRoom/src/SocketContext.js","/Users/kenshen/00_Lab/01_Work/MyChatRoom/src/components/VideoPlayer.jsx","/Users/kenshen/00_Lab/01_Work/MyChatRoom/src/components/Notifications.jsx","/Users/kenshen/00_Lab/01_Work/MyChatRoom/src/components/Options.jsx","/Users/kenshen/00_Lab/01_Work/MyChatRoom/src/App.js","/Users/kenshen/00_Lab/01_Work/MyChatRoom/src/index.js"],"names":["SocketContext","createContext","socket","io","ContextProvider","children","useState","callAccepted","setCallAccepted","callEnded","setCallEnded","stream","setStream","name","setName","call","setCall","me","setMe","myVideo","useRef","userVideo","connectionRef","useEffect","navigator","mediaDevices","getUserMedia","video","audio","then","currentStream","current","srcObject","on","id","from","callerName","signal","isReceivingCall","answerCall","peer","Peer","initiator","trickle","data","emit","to","callUser","userToCall","signalData","leaveCall","destroy","window","location","reload","useStyles","makeStyles","theme","width","breakpoints","down","gridContainer","justifyContent","flexDirection","paper","padding","border","margin","VideoPlayer","useContext","classes","Notifications","display","root","container","marginTop","Options","idToCall","setIdToCall","e","target","value","appBar","borderRadius","alignItems","image","marginLeft","wrapper","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["/* (ignored) */","/* (ignored) */","// extracted by mini-css-extract-plugin","import React, { createContext, useState, useRef, useEffect } from 'react';\nimport { io } from 'socket.io-client';\nimport Peer from 'simple-peer';\n\nconst SocketContext = createContext();\n//const socket = io('http://localhost:5000/');\nconst socket = io('https://modern-video-calling-app.herokuapp.com/');\n\nconst ContextProvider = ({ children }) => {\n  const [callAccepted, setCallAccepted] = useState(false);\n  const [callEnded, setCallEnded] = useState(false);\n  const [stream, setStream] = useState();\n  const [name, setName] = useState('');\n  const [call, setCall] = useState({});\n  const [me, setMe] = useState('');\n\n  const myVideo = useRef();\n  const userVideo = useRef();\n  const connectionRef = useRef();\n\n  useEffect(() => {\n    navigator.mediaDevices.getUserMedia({ video: true, audio: true })\n      .then((currentStream) => {\n        setStream(currentStream);\n\n        myVideo.current.srcObject = currentStream;\n      });\n\n    socket.on('me', (id) => setMe(id));\n\n    socket.on('callUser', ({ from, name: callerName, signal }) => {\n      setCall({ isReceivingCall: true, from, name: callerName, signal });\n    });\n  }, []);\n\n  const answerCall = () => {\n    setCallAccepted(true);\n\n    const peer = new Peer({ initiator: false, trickle: false, stream });\n\n    peer.on('signal', (data) => {\n      socket.emit('answerCall', { signal: data, to: call.from });\n    });\n\n    peer.on('stream', (currentStream) => {\n      userVideo.current.srcObject = currentStream;\n    });\n\n    peer.signal(call.signal);\n\n    connectionRef.current = peer;\n  };\n\n  const callUser = (id) => {\n    const peer = new Peer({ initiator: true, trickle: false, stream });\n\n    peer.on('signal', (data) => {\n      socket.emit('callUser', { userToCall: id, signalData: data, from: me, name });\n    });\n\n    peer.on('stream', (currentStream) => {\n      userVideo.current.srcObject = currentStream;\n    });\n\n    socket.on('callAccepted', (signal) => {\n      setCallAccepted(true);\n\n      peer.signal(signal);\n    });\n\n    connectionRef.current = peer;\n  };\n\n  const leaveCall = () => {\n    setCallEnded(true);\n\n    connectionRef.current.destroy();\n\n    window.location.reload();\n  };\n\n  return (\n    <SocketContext.Provider value={{\n      call,\n      callAccepted,\n      myVideo,\n      userVideo,\n      stream,\n      name,\n      setName,\n      callEnded,\n      me,\n      callUser,\n      leaveCall,\n      answerCall,\n    }}\n    >\n      {children}\n    </SocketContext.Provider>\n  );\n};\n\nexport { ContextProvider, SocketContext };","import React, { useContext } from 'react';\nimport { Grid, Typography, Paper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { SocketContext } from '../SocketContext'\n\n\nconst useStyles = makeStyles((theme) => ({\n    video: {\n      width: '550px',\n      [theme.breakpoints.down('xs')]: {\n        width: '300px',\n      },\n    },\n    gridContainer: {\n      justifyContent: 'center',\n      [theme.breakpoints.down('xs')]: {\n        flexDirection: 'column',\n      },\n    },\n    paper: {\n      padding: '10px',\n      border: '2px solid black',\n      margin: '10px',\n    },\n  }));\n\nconst VideoPlayer = () => {\n    const { name, callAccepted, myVideo, userVideo, callEnded, stream, call } = useContext(SocketContext);\n    const classes = useStyles();\n    return (\n        <Grid container className={classes.gridContainer}>\n            {/* Our Own Video */}\n            {stream && (\n                <Paper className={classes.paper}>\n                    <Grid item xs={12} md={6}>\n                        <Typography variant='h5' gutterBottom>{name || 'NAME / 名前'}</Typography>\n                        <video playsInline muted ref={myVideo} autoPlay className={classes.video} />\n                    </Grid>\n                </Paper>\n            )}\n            {/* User's Own Video */}\n            {callAccepted && !callEnded && (\n                <Paper className={classes.paper}>\n                    <Grid item xs={12} md={6}>\n                        <Typography variant='h5' gutterBottom>{call.name || 'Name'}</Typography>\n                        <video playsInline ref={userVideo} autoPlay className={classes.video} />\n                    </Grid>\n                </Paper>\n            )}\n        </Grid>\n    )\n}\n\nexport default VideoPlayer\n","import React, { useContext } from 'react';\nimport { Button } from '@material-ui/core';\nimport { SocketContext } from '../SocketContext';\n\nconst Notifications = () => {\n  const { answerCall, call, callAccepted } = useContext(SocketContext);\n\n  return (\n    <>\n      {call.isReceivingCall && !callAccepted && (\n        <div style={{ display: 'flex', justifyContent: 'space-around' }}>\n          <audio src='../audios/ringtone.mp3' autoPlay />\n          <h1>{call.name} is calling:</h1>\n          <Button variant=\"contained\" color=\"primary\" onClick={answerCall}>\n            Answer\n          </Button>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Notifications;","import React, { useContext, useState } from 'react';\nimport { Button, TextField, Grid, Typography, Container, Paper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { Assignment, Phone, PhoneDisabled } from '@material-ui/icons';\n\nimport { SocketContext } from '../SocketContext';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    gridContainer: {\n      width: '100%',\n      [theme.breakpoints.down('xs')]: {\n        flexDirection: 'column',\n      },\n    },\n    container: {\n      width: '600px',\n      margin: '35px 0',\n      padding: 0,\n      [theme.breakpoints.down('xs')]: {\n        width: '80%',\n      },\n    },\n    margin: {\n      marginTop: 20,\n    },\n    padding: {\n      padding: 20,\n    },\n    paper: {\n      padding: '10px 20px',\n      border: '2px solid black',\n    },\n   }));\n\nconst Options = ( { children } ) => {\n    const { me, callAccepted, name, setName, callEnded, leaveCall, callUser } = useContext(SocketContext)\n    const [idToCall, setIdToCall] = useState('')\n    const classes = useStyles();\n\n    return (\n        <Container className={classes.container}>\n        <Paper elevation={10} className={classes.paper}>\n          <form className={classes.root} noValidate autoComplete=\"off\">\n            <Grid container className={classes.gridContainer}>\n              <Grid item xs={12} md={6} className={classes.padding}>\n                <Typography gutterBottom variant=\"h6\">Hello my friend!</Typography>\n                <TextField label=\"NAME / 名前\" value={name} onChange={(e) => setName(e.target.value)} fullWidth />\n                <CopyToClipboard text={me} className={classes.margin}>\n                  <Button variant=\"contained\" color=\"primary\" fullWidth startIcon={<Assignment fontSize=\"large\" />}>\n                    Copy Your ID\n                  </Button>\n                </CopyToClipboard>\n              </Grid>\n              <Grid item xs={12} md={6} className={classes.padding}>\n                <Typography gutterBottom variant=\"h6\">Let's chat!</Typography>\n                <TextField label=\"ID TO CALL\" value={idToCall} onChange={(e) => setIdToCall(e.target.value)} fullWidth />\n                {callAccepted && !callEnded ? (\n                  <Button variant=\"contained\" color=\"secondary\" startIcon={<PhoneDisabled fontSize=\"large\" />} fullWidth onClick={leaveCall} className={classes.margin}>\n                    Hang Up\n                  </Button>\n                ) : (\n                  <Button variant=\"contained\" color=\"primary\" startIcon={<Phone fontSize=\"large\" />} fullWidth onClick={() => callUser(idToCall)} className={classes.margin}>\n                    Call\n                  </Button>\n                )}\n              </Grid>\n            </Grid>\n          </form>\n          {children}\n        </Paper>\n      </Container>\n    )\n}\n\nexport default Options","import React from 'react';\nimport { Typography, AppBar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport VideoPlayer from './components/VideoPlayer';\nimport Notifications from './components/Notifications';\nimport Options from './components/Options';\n\nconst useStyles = makeStyles((theme) => ({\n    appBar: {\n      borderRadius: 15,\n      margin: '30px 100px',\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'center',\n      alignItems: 'center',\n      width: '600px',\n      border: '2px solid black',\n  \n      [theme.breakpoints.down('xs')]: {\n        width: '90%',\n      },\n    },\n    image: {\n      marginLeft: '15px',\n    },\n    wrapper: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      width: '100%',\n    },\n  }));\n\nconst App = () => {\n    const classes = useStyles();\n    return (\n        <div className={classes.wrapper}>\n            <AppBar className={classes.appBar} position='static' color='inherit'>\n                <Typography variant='h2' align='center'>KEN's Chat Room</Typography>\n            </AppBar>\n            <VideoPlayer />\n            <Options>\n                <Notifications />\n            </Options>\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport { ContextProvider } from './SocketContext';\n\nimport './styles.css';\n\nReactDOM.render(\n  <ContextProvider>\n    <App />\n  </ContextProvider>,\n  document.getElementById('root'),\n);"]}}